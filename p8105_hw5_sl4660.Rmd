---
title: "p8105_hw5_sl4660"
author: "Sibei Liu"
date: "2019/11/10"
output: github_document
---

```{r setup}
knitr::opts_chunk$set(set.seed(10))
```

# Problem 1
```{r,message=FALSE,warning=FALSE}
library(tidyverse)
library(ggrepel)


iris_with_missing = iris %>% 
  map_df(~replace(.x, sample(1:150, 20), NA)) %>%
  mutate(Species = as.character(Species)) %>% 
  janitor::clean_names()
```



```{r}

fill_missing= function(x) {
  
  if (is.numeric(x)){
  replace_na(x,mean(x,na.rm=TRUE))
  } else if(is.character(x)){
    replace_na(x,"virginica")
  }    
}

iris_without_missing= iris_with_missing %>% 
  map(fill_missing) %>% 
  bind_cols() %>%  
  knitr::kable(digit=3)

iris_without_missing
```

The table after filling missing values is shown above

# Problem 2

```{r}
data_total=list.files("./data")
data_total=str_c("./data/",data_total)
```

```{r}
data_total=list.files("./data") %>%
  tibble()  %>% 
  rename(file_name=".") %>% 
  mutate(
   detail= map(data_total,read_csv) 
  )
```
